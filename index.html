<!DOCTYPE html>
<html>
<head>
  <title>Weather App</title>
</head>
<body>
  <h1>Weather App</h1>
  <form action="/weather" method="post">
    <label for="city">Enter city:</label>
    <input type="text" id="city" name="city" required>
    <button type="submit">Get Weather</button>
  </form>

  <!-- Gravatar Section -->
  <h2>Gravatar</h2>
  <form id="emailForm">
    <label for="email">Enter your email:</label>
    <input type="email" id="email" name="email" required>
    <button type="submit">Show Gravatar</button>
    <div>
      <label>Select Gravatar rating:</label><br>
      <input type="radio" id="ratingG" name="rating" value="g" checked>
      <label for="ratingG">G</label><br>
      <input type="radio" id="ratingPG" name="rating" value="pg">
      <label for="ratingPG">PG</label><br>
      <input type="radio" id="ratingR" name="rating" value="r">
      <label for="ratingR">R</label><br>
      <input type="radio" id="ratingX" name="rating" value="x">
      <label for="ratingX">X</label><br>
    </div>
  </form>
  <div id="gravatarContainer">
    <img id="gravatarImage" src="" alt="Gravatar">
  </div>

  <!-- Script for Gravatar -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const emailForm = document.getElementById('emailForm');
      const emailInput = document.getElementById('email');
      const gravatarImage = document.getElementById('gravatarImage');

      emailForm.addEventListener('submit', function(event) {
        event.preventDefault();
        const email = emailInput.value.trim();
        const rating = document.querySelector('input[name="rating"]:checked').value;
        const gravatarUrl = `https://www.gravatar.com/avatar/${md5(email)}?s=200&r=${rating}`;
        gravatarImage.src = gravatarUrl;
      });
    });
  </script>

  <!-- Include the MD5 library for hashing email -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.18.0/js/md5.min.js"></script>
</body>
</html>
